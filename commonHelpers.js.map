{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".js_form\");\nconst imageList = document.querySelector(\".js_list\");\n\nconst loader = document.querySelector(\".loader\")\n\nform.addEventListener(\"submit\", onSearch);\n\nlet lightbox = new SimpleLightbox('.js_list a', {\n    captionSelector: 'img',\n    captionsData: 'alt',\n    captionDelay: 250\n});\n\n//Створити шаблонну карточку\n//Створити функцію що збирає інформацію про зображення\n//Створити функцію пошуку зображень\n\nfunction createMarkup(array) {\n    return array.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <li>\n  <a href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"350\" height=\"250\">\n  </a>\n  <ul class=\"description_list\">\n    <li class=\"description_item\">\n      <h2>Likes</h2>\n      <p>${likes}</p>\n    </li>\n    <li class=\"description_item\">\n      <h2>Views</h2>\n      <p>${views}</p>\n    </li>\n    <li class=\"description_item\">\n      <h2>Comments</h2>\n      <p>${comments}</p>\n    </li>\n    <li class=\"description_item\">\n      <h2>Downloads</h2>\n      <p>${downloads}</p>\n    </li>\n  </ul>\n</li>`).join(\"\")\n}\n\nfunction getImage(wordForSearch) {\n    const API_KEY = \"36166907-2dc6449c4338604cccc5458ef\"\n    const BASE_URL = \"https://pixabay.com/api/\"\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${wordForSearch}&image_type=photo&orientation=horizontal&safesearch=true`).\n        then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n            return response.json()\n        })\n}\n\nfunction onSearch(event) {\n    event.preventDefault()\n    const wordSearch = encodeURIComponent(event.currentTarget.elements.js_input.value.trim())\n    if (!wordSearch) {\n        loader.style.display = \"none\"\n        iziToast.warning({\n            position: \"topRight\",\n            message: \"Please enter your search word!\"\n        })\n        return\n    }\n    loader.style.display = \"block\"\n    getImage(wordSearch).then(data => {\n        if (!data.total) {\n            iziToast.error({\n                position: \"topRight\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\"\n            });\n    form.reset()\n        }\n        loader.style.display = \"none\"\n        imageList.innerHTML = createMarkup(data.hits)\n        lightbox.refresh()\n    })\n        .catch(error => iziToast.error({\n            position: \"topRight\",\n            message: `${error}`\n    }))\n}\n\n"],"names":["form","imageList","loader","onSearch","lightbox","SimpleLightbox","createMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","getImage","wordForSearch","response","event","wordSearch","iziToast","data","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,gBAAiB,MACjB,aAAc,MACd,aAAc,GAClB,CAAC,EAMD,SAASC,EAAaC,EAAO,CACzB,OAAOA,EAAM,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,aAEtFL;AAAA,gBACGD,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,WAK3BC;AAAA;AAAA;AAAA;AAAA,WAIAC;AAAA;AAAA;AAAA;AAAA,WAIAC;AAAA;AAAA;AAAA;AAAA,WAIAC;AAAA;AAAA;AAAA,MAGL,EAAE,KAAK,EAAE,CACf,CAEA,SAASC,EAASC,EAAe,CAG7B,OAAO,MAAM,qEAAgCA,2DAAuE,EAChH,KAAKC,GAAY,CACb,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,KAAM,CAClC,CAAS,CACT,CAEA,SAASd,EAASe,EAAO,CACrBA,EAAM,eAAgB,EACtB,MAAMC,EAAa,mBAAmBD,EAAM,cAAc,SAAS,SAAS,MAAM,MAAM,EACxF,GAAI,CAACC,EAAY,CACbjB,EAAO,MAAM,QAAU,OACvBkB,EAAS,QAAQ,CACb,SAAU,WACV,QAAS,gCACrB,CAAS,EACD,MACH,CACDlB,EAAO,MAAM,QAAU,QACvBa,EAASI,CAAU,EAAE,KAAKE,GAAQ,CACzBA,EAAK,QACND,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EACzB,CAAa,EACTpB,EAAK,MAAO,GAERE,EAAO,MAAM,QAAU,OACvBD,EAAU,UAAYK,EAAae,EAAK,IAAI,EAC5CjB,EAAS,QAAS,CAC1B,CAAK,EACI,MAAMkB,GAASF,EAAS,MAAM,CAC3B,SAAU,WACV,QAAS,GAAGE,GACxB,CAAK,CAAC,CACN"}